!function(e){function t(t){for(var r,o,l=t[0],c=t[1],i=t[2],p=0,d=[];p<l.length;p++)o=l[p],n[o]&&d.push(n[o][0]),n[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return s.push.apply(s,i||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,l=1;l<a.length;l++){var c=a[l];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},n={1:0},s=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},o.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var i=0;i<l.length;i++)t(l[i]);var u=c;s.push([515,0]),a()}({295:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(50),o=a.n(s),l=a(86),c=a(257);class i extends n.a.Component{render(){return n.a.createElement("div",{className:"table-controls ui segment"},n.a.createElement("div",{className:"ui equal width grid"},n.a.createElement("div",{className:"column"},n.a.createElement("h2",null,"Quản lý đơn hàng")),n.a.createElement("div",{className:"column right aligned"},n.a.createElement("div",{className:"ui buttons"},n.a.createElement("button",{className:"ui button primary"},"Phân tích dữ liệu")))))}}a(292);var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};class p extends n.a.Component{constructor(e){super(e),this.state={data:this.props.orderData||[]}}render(){const e=this.state.data;return n.a.createElement("div",null,n.a.createElement(i,this.state),n.a.createElement(c.a,{getTdProps:(e,t,a,r)=>({onClick:(e,n)=>{console.log("A Td Element was clicked!"),console.log("it produced this event:",e),console.log("It was in this column:",a),console.log("It was in this row:",t),console.log("It was in this table instance:",r),n&&n()}}),filterable:!0,data:e,columns:[{Header:"Nhà thuốc",columns:[{Header:"Mã KH",accessor:"B",maxWidth:200},{Header:"Tên nhà thuốc",accessor:"F"}]},{Header:"Đơn Hàng",columns:[{Header:"Ngày bán",accessor:"A"},{Header:"Mã Sản Phẩm",accessor:"C"},{Header:"Số lượng",accessor:"D"},{Header:"Đơn giá",accessor:"J"}]},{Header:"Địa chỉ",columns:[{Header:"Quận/TP/Huyện",accessor:"M"},{Header:"Tỉnh",accessor:"N"},{Header:"Miền",accessor:"O"}]}],data:e,filterable:!0,onFilteredChange:e=>{console.log(e)},defaultPageSize:10,className:"-striped -highlight"}))}}var d=a(171);class h extends n.a.Component{constructor(e){super(e),this.upload=this.upload.bind(this),this.chooseFile=this.chooseFile.bind(this),this.state={progressing:0,upload:!1,error:!1,errorMessage:this.props.errorMessage||"Xin lỗi! file chưa được upload thành công!"}}upload(e,t){let a=this;var r=new XMLHttpRequest;r.open("POST",t,!0),this.setState({upload:!0}),r.upload.onprogress=function(e){if(e.lengthComputable){var t=e.loaded/e.total*100;a.setState({progressing:parseInt(t)})}},r.onload=function(){if(200==this.status&&(a.setState({upload:!1,progressing:0,error:!1}),a.props.done)){a.props.done(this.response);let e=JSON.parse(this.response);"error"==e.status&&a.setState({error:!0,errorMessage:e.message||this.state.errorMessage})}},r.onerror=function(){a.setState({upload:!0,progressing:1,error:!0})},r.send(e)}chooseFile(e){var t=e.target.files,a=new FormData;a.append("filename",t[0]),this.upload(a,this.props.url)}render(){return n.a.createElement("div",{className:"file-upload"},n.a.createElement("input",{type:"file",onChange:e=>this.chooseFile(e)}),this.state.upload?n.a.createElement(d.a,{style:{marginTop:10},percent:this.state.progressing,color:"olive",progress:!0,indicating:!0}):null,this.state.error?n.a.createElement("div",{className:"ui message warning"},this.state.errorMessage):null)}}var m={START_APP:"START_APP",UPDATE_STATE_DATA:"UPDATE_STATE_DATA"};const g=e=>({type:m.UPDATE_STATE_DATA,updateData:e});var f=Object(l.b)(e=>({mainState:e.main.present,uiState:e.ui}))(class extends r.Component{render(){let e=function(e){let t=[];return Object.keys(e).forEach(a=>{t.push(u({id:a},e[a]))}),t}(this.props.mainState.orderData||{});return n.a.createElement("div",{id:"main",className:"container ui"},e.length?n.a.createElement(p,{orderData:e}):n.a.createElement("div",{className:"ui segment padded"},n.a.createElement("h1",null,"Chọn file excel"),n.a.createElement(h,{url:"http://erpapp/upload",done:e=>{let t=JSON.parse(e);"success"==t.status&&t.data&&this.props.dispatch(g({orderData:t.data}))}})))}}),v=a(187),E=a(177),T=a.n(E),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};let A,P={filter:{year:2017}};var y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};let O={sidebar:{open:!1,columnId:null},notify:{open:!0,message:"Hahah",header:"Heheh",type:"success"},savePanel:{open:!1},saveDesignNow:!1};var D=a(258),S=a.n(D);let w=[m.UPDATE_STATE_DATA];var _=Object(v.b)({main:S()((e=P,t)=>{switch(t.type){case m.START_APP:return A=T()(e),A=b({},A,t.defaultProps);case m.UPDATE_STATE_DATA:return A=T()(e),A=b({},A,t.updateData)}return e},{filter:(e,t,a)=>-1!==w.indexOf(e.type),limit:100}),ui:(e=O,t)=>{switch(t.type){case m.UPDATE_UI:return y({},e,t.updateData);case m.TOGGLE_SAVE:return y({},e,{savePanel:{open:t.open}});case m.SAVE_DESIGN_NOW:return y({},e,{saveDesignNow:t.confirm||!1})}return e}});const N=Object(v.c)(_);N.close=(()=>N.dispatch(END));var H=N;const j=document.getElementById("isd_app");fetch("/").then(function(e){return e.json()}).then(function(e){H.dispatch(g({orderData:e})),o.a.render(n.a.createElement(l.a,{store:H},n.a.createElement(f,null)),j)}).catch(function(e){console.log("parsing failed",e)}),o.a.render(n.a.createElement(l.a,{store:H},n.a.createElement(f,null)),j)},515:function(e,t,a){e.exports=a(295)}});